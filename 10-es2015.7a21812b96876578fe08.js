(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"Z45+":function(t,e,o){"use strict";o.r(e),o.d(e,"AddNotificationPageModule",(function(){return p}));var n=o("ofXK"),r=o("3Pt+"),i=o("TEn/"),s=o("tyNb"),c=o("mrSG"),a=o("z6cu"),l=o("JIr8"),b=o("fXoL"),d=o("tk/3");const u=[{path:"",component:(()=>{class t{constructor(t,e,o,n){this.navCtrl=t,this.alertController=e,this.http=o,this.router=n,this.body={title:"",description:""},this.rawResponse=null,this.handleError=t=>(t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`HTTP status code ${t.status}, reason:`,t.error),Object(a.a)("Something bad happened; please try again later.")),this.router.getCurrentNavigation().extras.state&&(this.callback=this.router.getCurrentNavigation().extras.state)}ngOnInit(){}close(){this.navCtrl.navigateBack("/main")}addItem(){return Object(c.a)(this,void 0,void 0,(function*(){try{const t=yield this.PostNewNotificationsToApi();console.log({response:t})}catch(t){console.error("catch error!"),Object(l.a)(this.handleError)}}))}PostNewNotificationsToApi(){return Object(c.a)(this,void 0,void 0,(function*(){return new Promise((t,e)=>{this.http.post("https://api.next.cocoing.info/admin/notifications",this.body).subscribe(e=>{console.log(e),this.callback(),this.presentAddAlert(),this.close(),t(e)},t=>{console.error(t),this.presentAddFailAlert(),e(t)})})}))}presentAddAlert(){return Object(c.a)(this,void 0,void 0,(function*(){(yield this.alertController.create({header:"\u65b0\u589e\u6210\u529f",message:"\u65b0\u589e\u901a\u77e5\u6210\u529f!",buttons:["OK"]})).present()}))}presentAddFailAlert(){return Object(c.a)(this,void 0,void 0,(function*(){(yield this.alertController.create({header:"\u65b0\u589e\u5931\u6557",message:"\u65b0\u589e\u901a\u77e5\u5931\u6557!",buttons:["OK"]})).present()}))}}return t.\u0275fac=function(e){return new(e||t)(b.Hb(i.t),b.Hb(i.a),b.Hb(d.a),b.Hb(s.g))},t.\u0275cmp=b.Bb({type:t,selectors:[["app-add-notification"]],decls:18,vars:2,consts:[["color","secondary"],["slot","end",1,"mybutton"],[3,"click"],["slot","icon-only","name","close"],["color","primary","position","floating"],["type","text","required","",3,"ngModel","ngModelChange"],["rows","6","cols","20","placeholder","Enter any text here...","required","",3,"ngModel","ngModelChange"],["expand","block","type","submit",1,"submit-btn",3,"click"]],template:function(t,e){1&t&&(b.Kb(0,"ion-header"),b.Kb(1,"ion-toolbar",0),b.Kb(2,"ion-title"),b.fc(3,"add-notification"),b.Jb(),b.Kb(4,"ion-buttons",1),b.Kb(5,"ion-button",2),b.Sb("click",(function(){return e.close()})),b.Ib(6,"ion-icon",3),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(7,"ion-content"),b.Kb(8,"ion-item"),b.Kb(9,"ion-label",4),b.fc(10,"Title"),b.Jb(),b.Kb(11,"ion-input",5),b.Sb("ngModelChange",(function(t){return e.body.title=t})),b.Jb(),b.Jb(),b.Kb(12,"ion-item"),b.Kb(13,"ion-label",4),b.fc(14,"Description"),b.Jb(),b.Kb(15,"ion-textarea",6),b.Sb("ngModelChange",(function(t){return e.body.description=t})),b.Jb(),b.Jb(),b.Kb(16,"ion-button",7),b.Sb("click",(function(){return e.addItem()})),b.fc(17,"Create"),b.Jb(),b.Jb()),2&t&&(b.xb(11),b.Zb("ngModel",e.body.title),b.xb(4),b.Zb("ngModel",e.body.description))},directives:[i.h,i.q,i.p,i.f,i.e,i.i,i.g,i.k,i.l,i.j,i.v,r.f,r.d,r.e,i.o],styles:[""]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(e){return new(e||t)},imports:[[s.i.forChild(u)],s.i]}),t})(),p=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(e){return new(e||t)},imports:[[n.b,r.a,i.r,h]]}),t})()}}]);