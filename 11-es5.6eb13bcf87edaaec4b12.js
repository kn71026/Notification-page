!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"Z45+":function(n,o,r){"use strict";r.r(o),r.d(o,"AddNotificationPageModule",(function(){return O}));var i,a,s,c=r("ofXK"),u=r("3Pt+"),l=r("TEn/"),b=r("tyNb"),d=r("mrSG"),h=r("tk/3"),p=r("z6cu"),f=r("JIr8"),g=r("fXoL"),m=r("e8h1"),v=["my_cool_button"],y=["my_cool_text"],_=["progress_bar"],k=["my_check"],x=["my_cool_svg"],w=[{path:"",component:(i=function(){function n(e,o,r,i,a){t(this,n),this.navCtrl=e,this.alertController=o,this.http=r,this.router=i,this.storage=a,this.rawResponse=null,this.accessToken="",this.body={title:"",description:""},this.handleError=function(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error("HTTP status code ".concat(t.status,", reason:"),t.error),Object(p.a)("Something bad happened; please try again later.")},this.router.getCurrentNavigation().extras.state&&(this.callback=this.router.getCurrentNavigation().extras.state)}var o,r,i;return o=n,(r=[{key:"ngAfterViewInit",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.basicTimeline=anime.timeline({autoplay:!1}),e=this.my_check.nativeElement,n=anime.setDashoffset(e),e.setAttribute("stroke-dashoffset",n),this.basicTimeline.add({targets:this.my_cool_text.nativeElement,duration:1,opacity:"0"}).add({targets:this.my_cool_button.nativeElement,duration:1300,height:10,width:300,backgroundColor:"#2B2D2F",border:"0",borderRadius:100}).add({targets:this.progress_bar.nativeElement,duration:200,width:300,easing:"linear"}).add({targets:this.my_cool_button.nativeElement,width:0,duration:1}).add({targets:this.progress_bar.nativeElement,width:80,height:80,delay:500,duration:750,borderRadius:80,backgroundColor:"#71DFBE"}).add({targets:e,strokeDashoffset:[n,0],duration:200,easing:"easeInOutSine",complete:function(){return o.addItem()}}),t.t0=String,t.next=7,this.storage.get("Token");case 7:t.t1=t.sent,this.accessToken=(0,t.t0)(t.t1);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"close",value:function(){this.navCtrl.navigateBack("/main")}},{key:"submit",value:function(){this.basicTimeline.play(),this.my_cool_svg.nativeElement.style.cursor="default"}},{key:"addItem",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(this.PostNewNotificationsToApi),t.next=4,this.PostNewNotificationsToApi();case 4:e=t.sent,console.log({response:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),Object(f.a)(this.handleError);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})))}},{key:"PostNewNotificationsToApi",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var o={headers:new h.c({Authorization:"Bearer "+e.accessToken})};e.http.post("https://api.cocoing.info/admin/notifications",e.body,o).subscribe((function(n){console.log(n),e.callback(),e.presentAddAlert(),e.close(),t(n)}),(function(t){console.error(t),e.presentAddFailAlert(),n(t)}))})));case 1:case"end":return t.stop()}}),t)})))}},{key:"presentAddAlert",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({header:"\u65b0\u589e\u6210\u529f",message:"\u65b0\u589e\u901a\u77e5\u6210\u529f!",buttons:["OK"]});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"presentAddFailAlert",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({header:"\u65b0\u589e\u5931\u6557",message:"\u65b0\u589e\u901a\u77e5\u5931\u6557!",buttons:["OK"]});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}}])&&e(o.prototype,r),i&&e(o,i),n}(),i.\u0275fac=function(t){return new(t||i)(g.Hb(l.x),g.Hb(l.a),g.Hb(h.a),g.Hb(b.g),g.Hb(m.b))},i.\u0275cmp=g.Bb({type:i,selectors:[["app-add-notification"]],viewQuery:function(t,e){var n;1&t&&(g.jc(v,!0),g.jc(y,!0),g.jc(_,!0),g.jc(k,!0),g.jc(x,!0)),2&t&&(g.cc(n=g.Tb())&&(e.my_cool_button=n.first),g.cc(n=g.Tb())&&(e.my_cool_text=n.first),g.cc(n=g.Tb())&&(e.progress_bar=n.first),g.cc(n=g.Tb())&&(e.my_check=n.first),g.cc(n=g.Tb())&&(e.my_cool_svg=n.first))},decls:30,vars:2,consts:[["color","dark"],["slot","start"],["slot","end",1,"mybutton"],[3,"click"],["slot","icon-only","name","close"],[1,"ion-text-center"],["color","primary","position","floating"],["type","text","required","",3,"ngModel","ngModelChange"],["rows","2","cols","20","placeholder","Enter any text here...","required","",3,"ngModel","ngModelChange"],[1,"my_cool_button",3,"click"],["my_cool_button",""],[1,"my_cool_text",3,"click"],["my_cool_text",""],[1,"progress_bar"],["progress_bar",""],["x","0px","y","0px","viewBox","0 0 25 30",2,"enable-background","new 0 0 25 30","cursor","pointer",3,"click"],["my_cool_svg",""],["d","M2,19.2C5.9,23.6,9.4,28,9.4,28L23,2",1,"st0","my_check"],["my_check",""]],template:function(t,e){1&t&&(g.Kb(0,"ion-header"),g.Kb(1,"ion-toolbar",0),g.Kb(2,"ion-title"),g.hc(3,"add-notification"),g.Jb(),g.Kb(4,"ion-buttons",1),g.Ib(5,"ion-back-button"),g.Jb(),g.Kb(6,"ion-buttons",2),g.Kb(7,"ion-button",3),g.Sb("click",(function(){return e.close()})),g.Ib(8,"ion-icon",4),g.Jb(),g.Jb(),g.Jb(),g.Jb(),g.Kb(9,"ion-content"),g.Kb(10,"div",5),g.Kb(11,"ion-item"),g.Kb(12,"ion-label",6),g.hc(13,"Title"),g.Jb(),g.Kb(14,"ion-input",7),g.Sb("ngModelChange",(function(t){return e.body.title=t})),g.Jb(),g.Jb(),g.Kb(15,"ion-item"),g.Kb(16,"ion-label",6),g.hc(17,"Description"),g.Jb(),g.Kb(18,"ion-textarea",8),g.Sb("ngModelChange",(function(t){return e.body.description=t})),g.Jb(),g.Jb(),g.Kb(19,"div",9,10),g.Sb("click",(function(){return e.submit()})),g.Kb(21,"div",11,12),g.Sb("click",(function(){return e.submit()})),g.hc(23,"Submit"),g.Jb(),g.Jb(),g.Ib(24,"div",13,14),g.Vb(),g.Kb(26,"svg",15,16),g.Sb("click",(function(){return e.submit()})),g.Ib(28,"path",17,18),g.Jb(),g.Jb(),g.Jb()),2&t&&(g.xb(14),g.bc("ngModel",e.body.title),g.xb(4),g.bc("ngModel",e.body.description))},directives:[l.l,l.u,l.t,l.g,l.d,l.e,l.f,l.m,l.j,l.o,l.p,l.n,l.z,u.f,u.d,u.e,l.s],styles:[".ion-text-center[_ngcontent-%COMP%]{border:1px solid #85e0f7;border-radius:20px;padding:10px;margin-top:5%;margin-left:20%;margin-right:20%;box-shadow:0 0 9px #8de6f1}.my_cool_button[_ngcontent-%COMP%]{background:#2b2d2f;height:80px;width:200px;text-align:center;transform:translateY(-50%);margin:0 auto;cursor:pointer;border-radius:6px}.my_cool_button[_ngcontent-%COMP%], .my_cool_text[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0}.my_cool_text[_ngcontent-%COMP%]{font:700 1.25rem/1 poppins;color:#8de6f1;transform:translateY(-52%)}.progress_bar[_ngcontent-%COMP%]{height:10px;width:0;border-radius:200px;background:#505357}.progress_bar[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}svg[_ngcontent-%COMP%]{width:30px}.my_check[_ngcontent-%COMP%]{fill:none;stroke:#fff;stroke-width:3;stroke-linecap:round;stroke-linejoin:round}"]}),i)}],C=((s=function e(){t(this,e)}).\u0275mod=g.Fb({type:s}),s.\u0275inj=g.Eb({factory:function(t){return new(t||s)},imports:[[b.i.forChild(w)],b.i]}),s),O=((a=function e(){t(this,e)}).\u0275mod=g.Fb({type:a}),a.\u0275inj=g.Eb({factory:function(t){return new(t||a)},imports:[[c.b,u.a,l.v,C]]}),a)}}])}();