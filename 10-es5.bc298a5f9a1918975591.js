!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"Z45+":function(n,r,o){"use strict";o.r(r),o.d(r,"AddNotificationPageModule",(function(){return y}));var i,a,c,s=o("ofXK"),u=o("3Pt+"),l=o("TEn/"),b=o("tyNb"),d=o("mrSG"),f=o("z6cu"),p=o("JIr8"),h=o("fXoL"),g=o("tk/3"),m=[{path:"",component:(i=function(){function n(t,r,o,i){e(this,n),this.navCtrl=t,this.alertController=r,this.http=o,this.router=i,this.body={title:"",description:""},this.rawResponse=null,this.handleError=function(e){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error("HTTP status code ".concat(e.status,", reason:"),e.error),Object(f.a)("Something bad happened; please try again later.")},this.router.getCurrentNavigation().extras.state&&(this.callback=this.router.getCurrentNavigation().extras.state)}var r,o,i;return r=n,(o=[{key:"ngOnInit",value:function(){}},{key:"close",value:function(){this.navCtrl.navigateBack("/main")}},{key:"addItem",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.PostNewNotificationsToApi();case 3:t=e.sent,console.log({response:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("catch error!"),Object(p.a)(this.handleError);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"PostNewNotificationsToApi",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.http.post("https://api.next.cocoing.info/admin/notifications",t.body).subscribe((function(n){console.log(n),t.callback(),t.presentAddAlert(),t.close(),e(n)}),(function(e){console.error(e),t.presentAddFailAlert(),n(e)}))})));case 1:case"end":return e.stop()}}),e)})))}},{key:"presentAddAlert",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"\u65b0\u589e\u6210\u529f",message:"\u65b0\u589e\u901a\u77e5\u6210\u529f!",buttons:["OK"]});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"presentAddFailAlert",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"\u65b0\u589e\u5931\u6557",message:"\u65b0\u589e\u901a\u77e5\u5931\u6557!",buttons:["OK"]});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}}])&&t(r.prototype,o),i&&t(r,i),n}(),i.\u0275fac=function(e){return new(e||i)(h.Hb(l.t),h.Hb(l.a),h.Hb(g.a),h.Hb(b.g))},i.\u0275cmp=h.Bb({type:i,selectors:[["app-add-notification"]],decls:18,vars:2,consts:[["slot","end",1,"mybutton"],[3,"click"],["slot","icon-only","name","close"],["color","primary","position","floating"],["type","text","required","",3,"ngModel","ngModelChange"],["rows","6","cols","20","placeholder","Enter any text here...","required","",3,"ngModel","ngModelChange"],["expand","block","type","submit",1,"submit-btn",3,"click"]],template:function(e,t){1&e&&(h.Kb(0,"ion-header"),h.Kb(1,"ion-toolbar"),h.Kb(2,"ion-title"),h.fc(3,"add-notification"),h.Jb(),h.Kb(4,"ion-buttons",0),h.Kb(5,"ion-button",1),h.Sb("click",(function(){return t.close()})),h.Ib(6,"ion-icon",2),h.Jb(),h.Jb(),h.Jb(),h.Jb(),h.Kb(7,"ion-content"),h.Kb(8,"ion-item"),h.Kb(9,"ion-label",3),h.fc(10,"Title"),h.Jb(),h.Kb(11,"ion-input",4),h.Sb("ngModelChange",(function(e){return t.body.title=e})),h.Jb(),h.Jb(),h.Kb(12,"ion-item"),h.Kb(13,"ion-label",3),h.fc(14,"Description"),h.Jb(),h.Kb(15,"ion-textarea",5),h.Sb("ngModelChange",(function(e){return t.body.description=e})),h.Jb(),h.Jb(),h.Kb(16,"ion-button",6),h.Sb("click",(function(){return t.addItem()})),h.fc(17,"Create"),h.Jb(),h.Jb()),2&e&&(h.xb(11),h.Zb("ngModel",t.body.title),h.xb(4),h.Zb("ngModel",t.body.description))},directives:[l.h,l.q,l.p,l.f,l.e,l.i,l.g,l.k,l.l,l.j,l.v,u.f,u.d,u.e,l.o],styles:[""]}),i)}],v=((c=function t(){e(this,t)}).\u0275mod=h.Fb({type:c}),c.\u0275inj=h.Eb({factory:function(e){return new(e||c)},imports:[[b.i.forChild(m)],b.i]}),c),y=((a=function t(){e(this,t)}).\u0275mod=h.Fb({type:a}),a.\u0275inj=h.Eb({factory:function(e){return new(e||a)},imports:[[s.b,u.a,l.r,v]]}),a)}}])}();