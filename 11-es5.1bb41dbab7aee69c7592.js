!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"Z45+":function(n,r,o){"use strict";o.r(r),o.d(r,"AddNotificationPageModule",(function(){return O}));var i,a,s,c=o("ofXK"),u=o("3Pt+"),l=o("TEn/"),d=o("tyNb"),b=o("mrSG"),h=o("tk/3"),f=o("z6cu"),p=o("lJxs"),g=o("JIr8"),m=o("fXoL"),y=o("e8h1"),v=["myCoolButton"],k=["myText"],x=["progressBar"],C=["myCheck"],w=["mySvg"],M=[{path:"",component:(i=function(){function n(e,r,o,i,a){t(this,n),this.navCtrl=e,this.alertController=r,this.http=o,this.router=i,this.storage=a,this.rawResponse=null,this.accessToken="",this.body={title:"",description:""},this.handleError=function(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error("HTTP status code ".concat(t.status,", reason:"),t.error),Object(f.a)("Something bad happened; please try again later.")},this.router.getCurrentNavigation().extras.state&&(this.callback=this.router.getCurrentNavigation().extras.state)}var r,o,i;return r=n,(o=[{key:"ngAfterViewInit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.basicTimeline=anime.timeline({autoplay:!1}),e=this.myCheck.nativeElement,n=anime.setDashoffset(e),e.setAttribute("stroke-dashoffset",n),this.basicTimeline.add({targets:this.myText.nativeElement,duration:1,opacity:"0"}).add({targets:this.myCoolButton.nativeElement,duration:1300,height:10,width:300,backgroundColor:"#2B2D2F",border:"0",borderRadius:100}).add({targets:this.progressBar.nativeElement,duration:200,width:300,easing:"linear"}).add({targets:this.myCoolButton.nativeElement,width:0,duration:1}).add({targets:this.progressBar.nativeElement,width:80,height:80,delay:500,duration:750,borderRadius:80,backgroundColor:"#71DFBE"}).add({targets:e,strokeDashoffset:[n,0],duration:200,easing:"easeInOutSine",complete:function(){return r.addItem()}}),t.t0=String,t.next=7,this.storage.get("Token");case 7:t.t1=t.sent,this.accessToken=(0,t.t0)(t.t1);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"close",value:function(){this.navCtrl.navigateBack("/main")}},{key:"submit",value:function(){this.basicTimeline.play(),this.mySvg.nativeElement.style.cursor="default"}},{key:"addItem",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.PostNewNotificationsToApiPipe().subscribe({next:function(){e.presentAddAlert(),e.callback(),e.close()},error:function(t){return console.error(t)}});case 1:case"end":return t.stop()}}),t,this)})))}},{key:"PostNewNotificationsToApiPipe",value:function(){var t={headers:new h.c({Authorization:"Bearer "+this.accessToken})};return this.http.post("https://api.cocoing.info/admin/notifications",this.body,t).pipe(Object(p.a)((function(t){return t.data})),Object(g.a)(this.handleError))}},{key:"presentAddAlert",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({header:"\u65b0\u589e\u6210\u529f",message:"\u65b0\u589e\u901a\u77e5\u6210\u529f!",buttons:["OK"]});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"presentAddFailAlert",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({header:"\u65b0\u589e\u5931\u6557",message:"\u65b0\u589e\u901a\u77e5\u5931\u6557!",buttons:["OK"]});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}}])&&e(r.prototype,o),i&&e(r,i),n}(),i.\u0275fac=function(t){return new(t||i)(m.Hb(l.x),m.Hb(l.a),m.Hb(h.a),m.Hb(d.g),m.Hb(y.b))},i.\u0275cmp=m.Bb({type:i,selectors:[["app-add-notification"]],viewQuery:function(t,e){var n;1&t&&(m.mc(v,!0),m.mc(k,!0),m.mc(x,!0),m.mc(C,!0),m.mc(w,!0)),2&t&&(m.fc(n=m.Vb())&&(e.myCoolButton=n.first),m.fc(n=m.Vb())&&(e.myText=n.first),m.fc(n=m.Vb())&&(e.progressBar=n.first),m.fc(n=m.Vb())&&(e.myCheck=n.first),m.fc(n=m.Vb())&&(e.mySvg=n.first))},decls:30,vars:2,consts:[["color","dark"],["slot","start"],["slot","end"],[3,"click"],["slot","icon-only","name","close"],[1,"ion-text-center"],["color","primary","position","floating"],["type","text","required","",3,"ngModel","ngModelChange"],["rows","2","cols","20","placeholder","Enter any text here...","required","",3,"ngModel","ngModelChange"],[1,"myCoolButton",3,"click"],["myCoolButton",""],[1,"myText",3,"click"],["myText",""],[1,"progressBar"],["progressBar",""],["x","0px","y","0px","viewBox","0 0 25 30",2,"enable-background","new 0 0 25 30","cursor","pointer",3,"click"],["mySvg",""],["d","M2,19.2C5.9,23.6,9.4,28,9.4,28L23,2",1,"st0","myCheck"],["myCheck",""]],template:function(t,e){1&t&&(m.Mb(0,"ion-header"),m.Mb(1,"ion-toolbar",0),m.Mb(2,"ion-title"),m.kc(3,"add-notification"),m.Lb(),m.Mb(4,"ion-buttons",1),m.Ib(5,"ion-back-button"),m.Lb(),m.Mb(6,"ion-buttons",2),m.Mb(7,"ion-button",3),m.Ub("click",(function(){return e.close()})),m.Ib(8,"ion-icon",4),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Mb(9,"ion-content"),m.Mb(10,"div",5),m.Mb(11,"ion-item"),m.Mb(12,"ion-label",6),m.kc(13,"Title"),m.Lb(),m.Mb(14,"ion-input",7),m.Ub("ngModelChange",(function(t){return e.body.title=t})),m.Lb(),m.Lb(),m.Mb(15,"ion-item"),m.Mb(16,"ion-label",6),m.kc(17,"Description"),m.Lb(),m.Mb(18,"ion-textarea",8),m.Ub("ngModelChange",(function(t){return e.body.description=t})),m.Lb(),m.Lb(),m.Mb(19,"div",9,10),m.Ub("click",(function(){return e.submit()})),m.Mb(21,"div",11,12),m.Ub("click",(function(){return e.submit()})),m.kc(23,"Submit"),m.Lb(),m.Lb(),m.Ib(24,"div",13,14),m.Xb(),m.Mb(26,"svg",15,16),m.Ub("click",(function(){return e.submit()})),m.Ib(28,"path",17,18),m.Lb(),m.Lb(),m.Lb()),2&t&&(m.xb(14),m.ec("ngModel",e.body.title),m.xb(4),m.ec("ngModel",e.body.description))},directives:[l.l,l.u,l.t,l.g,l.d,l.e,l.f,l.m,l.j,l.o,l.p,l.n,l.z,u.f,u.d,u.e,l.s],styles:[".ion-text-center[_ngcontent-%COMP%]{border:1px solid #85e0f7;border-radius:20px;padding:10px;margin-top:5%;margin-left:20%;margin-right:20%;box-shadow:0 0 9px #8de6f1}.myCoolButton[_ngcontent-%COMP%]{background:#2b2d2f;height:80px;width:200px;text-align:center;transform:translateY(-50%);margin:0 auto;cursor:pointer;border-radius:6px}.myCoolButton[_ngcontent-%COMP%], .myText[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0}.myText[_ngcontent-%COMP%]{font:700 1.25rem/1 poppins;color:#8de6f1;transform:translateY(-52%)}.progressBar[_ngcontent-%COMP%]{height:10px;width:0;border-radius:200px;background:#78f56d}.progressBar[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}svg[_ngcontent-%COMP%]{width:30px}.myCheck[_ngcontent-%COMP%]{fill:none;stroke:#fff;stroke-width:3;stroke-linecap:round;stroke-linejoin:round}"]}),i)}],B=((s=function e(){t(this,e)}).\u0275mod=m.Fb({type:s}),s.\u0275inj=m.Eb({factory:function(t){return new(t||s)},imports:[[d.i.forChild(M)],d.i]}),s),O=((a=function e(){t(this,e)}).\u0275mod=m.Fb({type:a}),a.\u0275inj=m.Eb({factory:function(t){return new(t||a)},imports:[[c.c,u.a,l.v,B]]}),a)}}])}();